const Discord = require("discord.js");
const music = require('discord.js-music-v11');
var koala = new Discord.Client();
var humanscore = 0;
var aiscore =0;
koala.login('Token');
koala.on('ready', () => {console.log("Bot is now live!");});
koala.on('message', message => {
  if (message.content === '!listentome') {
    message.reply("Hearing you loud and clear! - Availible commands are: weather, news, random, redditrandom");
  }
  else if(message.content === "!listentome weather"){
  	message.reply("This is only temporary until I can figure out the weather API - http://www.bbc.co.uk/weather/");
  }
  else if (message.content === "!listentome random"){
  	message.reply("http://imgur.com/gallery/random");
  }
  else if (message.content === "!listentome news"){
  	message.reply("again, this is only temporary - http://www.bbc.co.uk/news/")
  }
  else if(message.content === "!listentome rock"){
  		var randomnumber = Math.random();
  	if (randomnumber > 0.66){
  		var aichoice = "rock";
  	}
  	else if (randomnumber < 0.33){
  		var aichoice = "paper";
  	}
  	else{
  		var aichoice = "scissors";
  	}
  	switch (aichoice){
  		case 'rock':
  			message.reply("It's a tie! score is, " + "humans: " + humanscore + " machine: " + aiscore);
  			break;
  		case 'paper':
  			aiscore++
  			message.reply("I win with Paper! score is, " + "humans: " + humanscore + " machine: " + aiscore);
  			break;
  		case 'scissors':
  			humanscore++
  			message.reply("I lose with scissors! score is, " + "humans: " + humanscore + " machine: " + aiscore);
  			break;
  			console.log("error");
  			break;
  	};
  }
  else if(message.content === "!listentome paper"){
   		var randomnumber = Math.random();
  	if (randomnumber > 0.66){
  		var aichoice = "rock";
  	}
  	else if (randomnumber < 0.33){
  		var aichoice = "paper";
  	}
  	else{
  		var aichoice = "scissors";
  	}
  	switch (aichoice){
  		case 'rock':
  			humanscore++
  			message.reply("I lose with Rock! score is, " + "humans: " + humanscore + " machine: " + aiscore);
  			break;
  		case 'paper':
  			message.reply("It's a tie! score is, " + "humans: " + humanscore + " machine: " + aiscore);
  			break;
  		case 'scissors':
  			aiscore++
  			message.reply("I win with Scissors! score is, " + "humans: " + humanscore + " machine: " + aiscore);
  			break;
  		default:
  			console.log("error");
  			break;
  	}; 	

  }
  else if(message.content === "!listentome scissors"){
  		var randomnumber = Math.random();
  	if (randomnumber > 0.66){
  		var aichoice = "rock";
  	}
  	else if (randomnumber < 0.33){
  		var aichoice = "paper";
  	}
  	else{
  		var aichoice = "scissors";
  	}
  	switch (aichoice){
  		case 'rock':
  			aiscore++	
  			message.reply("I win with Rock! score is, " + "humans: " + humanscore + " machine: " + aiscore);
  			break;
  		case 'paper':
  			humanscore++
  			message.reply("I lose with Paper! score is, " + "humans: " + humanscore + " machine: " + aiscore);
  			break;
  		case 'scissors':
  			message.reply("It's a tie! score is, " + "humans: " + humanscore + " machine: " + aiscore);
  			break;
  		default:
  			console.log("error");
  			break;
  	};
  }
  else if (message.content === "!listentome roll d20"){
  		message.reply(Math.floor((Math.random() * 20) + 1));
  }
  else if (message.content === "!listentome roll d6"){
  	  	message.reply(Math.floor((Math.random() * 6) + 1));
  }
  else if (message.content === "!listentome roll d12"){
  	  	message.reply(Math.floor((Math.random() * 12) + 1));
  }
  else if (message.content === "!listentome roll d4"){
  		message.reply(Math.floor((Math.random() * 4) + 1));
  }
  else if (message.content === "!listentome heads or tails"){
  		if (Math.random() >= 0.5){
  			message.reply("Heads");
  		}
  		else{
  			message.reply("Tails");
  		}
  }
  else{
  	console.log("Message recieved but not responded: " + message);
  }
});